<app-frame>
    <table class="generic rounded blue">
        <thead>
            <tr>
                <th style="width: 10%; text-align: center;">ID</th>
                <th style="width: 50%;">FINALIDADE</th>
                <th  style="width: 10%; text-align: center;">DT. PEDIDO</th>
                <th style="width: 10%; text-align: center;">DT. ATEND.</th>
                <th style="width: 20%; text-align: center;">STATUS</th>
            </tr>
        </thead>
        <tbody>
            <ng-container >
                    <tr *ngFor="let dadosPedido of dadosPedidos" [ngTemplateOutlet]="tabDetalheTemplate" [ngTemplateOutletContext]="{id_pedido: dadosPedido.id_pedido}">
                      <td>{{ dadosPedido.id_pedido }}</td>
                      <td>{{ dadosPedido.finalidade_pedido }}</td>
                      <td>{{ dadosPedido.data_pedido }}</td>
                      <td>{{ dadosPedido.data_atendimento }}</td>
                      <td>{{ dadosPedido.status_pedido }}</td>
                    </tr>
                    <tr>
                        <td colspan="6">
                            <table class="inner-table rounded grey">
                                <thead>
                                    <tr>
                                        <th width="8%" style="text-align: center;">ID</th>
                                        <th width="40%" style="text-align: left;">DESCRIÇÃO</th>
                                        <th width="18%" style="text-align: left;">MARCA</th>
                                        <th width="10%" style="text-align: left;">UN. MEDIDA</th>
                                        <th width="8%" style="text-align: center;">ESTOQUE</th>
                                        <th width="8%" style="text-align: center;">QTD. SOLIC.</th>
                                        <th width="8%" style="text-align: center;">QTD. ATEND.</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <ng-template #tabDetalheTemplate let-dadosItemPedido="id_pedido">
                                      <tr *ngFor="let dados of dadosItemPedido">
                                          <td style="text-align: center">{{ dadosItemPedido.id_item }}</td>
                                          <td>{{ dados.descricao_item }}</td>
                                          <td>{{ dados.marca_item }}</td>
                                          <td>{{ dados.un_medida_item }}</td>
                                          <td style="text-align: center">{{ dados.estoque_item }}</td>
                                          <td style="text-align: center">{{ dados.qtd_solicitada }}</td>
                                          <td style="text-align: center">{{ dados.qtd_atendida }}</td>
                                      </tr>
                                    </ng-template>
                                </tbody>
                            </table>
                        </td>
                    </tr>
            </ng-container>
        </tbody>
    </table>
</app-frame>
